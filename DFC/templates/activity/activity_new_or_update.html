{% extends "activity/activity_base.html" %}
{% load i18n static%}
{% block stylesheets %}
{{block.super}}
<link href="{% static 'css/bootstrap-datetimepicker.min.css' %}" rel="stylesheet" media="screen">
{% endblock %}
{% block scripts %}
{{block.super}}
<script type="text/javascript" src="{% static 'js/jquery.min.js' %}"></script>
<script type="text/javascript" src="{% static 'js/bootstrap.min.js' %}"></script>
<script type="text/javascript" src="http://api.map.baidu.com/api?v=1.5&ak=2b866a6daac9014292432d81fe9b47e3"></script>
<script type="text/javascript" src="{% static 'js/setactivity.js' %}"></script>
<script type="text/javascript" src="{% static 'js/bootstrap-datetimepicker.min.js' %}"></script>
<script type="text/javascript" src="{% static 'js/bootstrap-datetimepicker.zh-CN.js' %}"></script>
{% endblock %}
{% block content %}
<div class="well">
	<form class="form-horizontal" role="form" method="post" action="">
		{% ifequal step 'general' %}
		<h3 class="page-header">1/3. 活动基本信息</h3>
		<div class="form-group">
			<label class="control-label col-md-3" for="activity-title">活动名称</label>
			<div class="col-md-8">
				<input class="form-control" type="text" placeholder="" id="activity-title" name="name">
			</div>
		</div>
		<div class="form-group">
			<label class="control-label col-md-3" for="activity-brief">活动简介</label>
			<div class="col-md-8">
				<textarea class=" form-control" placeholder="240字以内" id="activity-biref" name="desc" style="height:100px;"></textarea>
			</div>
		</div>
		<div class="form-group">
			<label class="control-label col-md-3" for="activity-face">上传封面</label>
			<div class="col-md-8">
				<input type="file" class="form-control" placeholder="" id="activity-face" name="cover">
			</div>
		</div>
		<div class="form-group">
			<label class=" control-label col-md-3" for="activity-time">活动时间</label>
			<div class="col-md-8">
			    <div id="datetimepicker" class="input-append date" style="display:inline-block;">
	                <div id="starttime" class="input-group date form_datetime col-md-9" data-date="2014-09-16T05:25:07Z" data-date-format="dd MM yyyy - HH:ii p" data-link-field="dtp_input1">
	                    <input class="form-control" size="16" type="text" value="" readonly>
	                    <span class="input-group-addon"><span class="glyphicon glyphicon-remove"></span></span>
						<span class="input-group-addon"><span class="glyphicon glyphicon-th"></span></span>开始
	                </div>
					<input type="hidden" id="activity-time" value="" name="start_time"/><br/>
			    </div>
		
				<script type="text/javascript">
				    $('#starttime').datetimepicker({
				        language:  'zh-CN',
						format: 'yyyy年mm月dd日 hh:ii',
				        weekStart: 1,
				        todayBtn:  1,
						autoclose: 1,
						todayHighlight: 1,
						startView: 2,
						forceParse: 0,
				        showMeridian: 1
				    });
				</script>
				<div id="datetimepicker" class="input-append date" style="display:inline-block;">
	                <div id="endtime" class="input-group date form_datetime col-md-9" data-date="2014-09-16T05:25:07Z" data-date-format="dd MM yyyy - HH:ii p" data-link-field="dtp_input1">
	                    <input class="form-control" size="16" type="text" value="" readonly>
	                    <span class="input-group-addon"><span class="glyphicon glyphicon-remove"></span></span>
						<span class="input-group-addon"><span class="glyphicon glyphicon-th"></span></span>结束
	                </div>
					<input type="hidden" id="activity-time" value="" name="end_time"/><br/>
				</div>
			
				<script type="text/javascript">
				    $('#endtime').datetimepicker({
				        language:  'zh-CN',
    					format: 'yyyy年mm月dd日 hh:ii',
				        weekStart: 1,
				        todayBtn:  1,
						autoclose: 1,
						todayHighlight: 1,
						startView: 2,
						forceParse: 0,
				        showMeridian: 1
				    });
				</script>    			
				<p class="help-block">for more detail of datetimepicker configuration. check <a href="http://www.bootcss.com/p/bootstrap-datetimepicker/">http://www.bootcss.com/p/bootstrap-datetimepicker/</a></p>

			</div>
		</div>


		<div class="form-group">
			<label class="control-label col-md-3" for="activity-place">活动地点</label>
			<div class="col-md-8">
				<input class="form-control" type="text" placeholder="baidu map API， not implemented！" id="activity-place">
				<p class="help-block">for the place suggestion API. check <a href="http://developer.baidu.com/map/place-suggestion-api.htm">http://developer.baidu.com/map/place-suggestion-api.htm</a></p>
			</div>
		</div>
		
		<div class="form-group">
			<label class="control-label col-md-3" for="activity-link">活动链接（如果有）</label>
			<div class="col-md-8">
				<input class="form-control" type="text" placeholder="" id="activity-link" name="official_link">
			</div>
		</div>
		
		<div class="form-group">
			<div class="col-md-offset-3 col-md-8">
				<div class="checkbox">
					<label>
						<input type="checkbox" id="activity-publish">我同意网站的<a href="#">使用协议</a>
					</label>
				</div>
			</div>
		</div>
		
		<div class="form-group" style="margin-top: 40px">
			<div class="col-md-offset-9 col-md-3">
				<button class="btn btn-info">取消</button>
				<a class="btn btn-info" href="{% url 'activity.views.new_or_update_activity' step='recruit'%}">下一步</a>
			</div>
		</div>
		{% endifequal %}
		{% ifequal step 'recruit' %}
		<h3 class="page-header">2/3. 志愿者招募信息</h3>
		<div class="form-group">
			<div class="col-md-offset-3 col-md-8">
				<div class="checkbox">
					<label>
						<input type="checkbox" id="set_private" name="is_private">活动不对外招募（设为私密）
					</label>
				</div>
			</div>
		</div>
		
		<div class="form-group">
			<label class="control-label col-md-3" for="activity-num">志愿者人数</label>
			<div class="col-md-8">
				<input class="form-control" type="number" placeholder="" id="activity-num" name="required_participants"required>
				<p class="help-block">当通过本站报名的志愿者人数达到需求的<span id="max-value">133</span>%时禁止报名。</p>
			</div>
		</div>
		<div class="form-group">
			<label class="control-label col-md-3" for="activity-talent">要求</label>
			<div class="col-md-8">
				<textarea class="form-control" placeholder="" id="activity-talent" name="volunteer_requirements" style="height:100px;"></textarea>
				<a href="javascript:void(0)" class="pull-right" onclick="$('#vol-template').removeClass('hide');$(this).text('关闭模版');">使用模版</a>
			</div>
		</div>
		<div id="vol-template" class="well hide" style="background-color: #DDDDDD;">
			<div class="form-group" id="vol-tasks-div">
				<label class="control-label col-md-3" for="vol-tasks">志愿者主要任务</label>
				<div class="col-md-8">
					<textarea class="form-control" placeholder="" id="vol-tasks" name="volunteer_tasks"></textarea>
				</div>
			</div>
			
			<div class="form-group" id="vol-obligation-div">
				<label class="control-label col-md-3" for="vol-obligation">志愿者义务</label>
				<div class="col-md-8">
					<textarea class="form-control" placeholder="" id="vol-obligation" name="volunteer_obligation"></textarea>
				</div>
			</div>
			
			<div class="form-group" id="vol-right-div">
				<label class="control-label col-md-3" for="vol-right">志愿者权利/待遇</label>
				<div class="col-md-8">
					<textarea class="form-control" placeholder="" id="vol-right" name="volunteer_right"></textarea>
				</div>
			</div>
			
			<div class="form-group" id="vol-time-div">
				<label class="control-label col-md-3" for="vol-time">志愿者可获得公益时间</label>
				<div class="col-md-8">
					<div class="input-group">
						<input class="form-control" placeholder="" id="vol-time" name="volunteer_hours" type="number" value=0>
						<span class="input-group-addon">小时</span>
					</div>
				</div>
			</div>
		</div>
		
		<div class="form-group" id="inform-set">
			<label class="control-label col-md-3" for="activity-inform">通知志愿者的方式</label>
			<div class="col-md-8">
				<select class="form-control" name="notification_method">
					<option>按志愿者偏好</option>
					<option>仅用短信</option>
					<option>仅用邮件</option>
					<option>仅用微信</option>
				</select>
			</div>
		</div>
		<div class="form-group" id="auto-confirm">
			<div class="col-md-offset-3 col-md-8">
				<div class="checkbox">
					<label>
						<input type="checkbox" name="volunteer_auto_confirm">自动确认志愿者
					</label>
				</div>
				<p class="help-block">活动前<span id="confirm-span"><input class="form-control" placeholder="" id="activity-confirmtime" name="volunteer_auto_confirm_hour_ahead" type="number" value=24></span>小时，系统将会自动发送确认信息（短信或邮件）给志愿者询问是否参与。</p>
			</div>
		</div>
		

		<div class="form-group" style="margin-top: 40px">
			<div class="col-md-offset-9 col-md-3">
				<a class="btn btn-info" href="{% url 'activity.views.new_or_update_activity' step='general'%}">上一步</a>
				<a class="btn btn-info" href="{% url 'activity.views.new_or_update_activity' step='detail'%}">下一步</a>
			</div>
		</div>
		{% endifequal %}
		{% ifequal step 'detail' %}
		<h3 class="page-header">3/3. 活动详细信息</h3>
		<div class="form-group">
			<label class=" control-label col-md-3" for="activity-time">添加标签</label>
			<div class="col-md-8">
				<input class="form-control" placeholder="Use ',' or space to seperate tags" id="activity-tags" name="tags" type="text">
			</div>
		</div>
		<div class="form-group">
			<label class=" control-label col-md-3" for="activity-time">从策划生产介绍</label>
			<div class="col-md-8">
				<input type="file" class="form-control" name="content" placeholder="上传策划"></input>
			</div>
		</div>
		
		<div class="form-group">
			<label class=" control-label col-md-3" for="activity-time">撰写详细介绍</label>
			<div class="col-md-8">
				<div class="editor-container">
					<textarea id="content" class="form-control" name="content"> </textarea>
				</div>
				<p class="help-block">Documentation about this richtext editor - "redactor" are available at <a href="http://imperavi.com/redactor/docs/">http://imperavi.com/redactor/docs/</a></p>

			</div>
		</div>
		
		
		<div class="form-group" style="margin-top: 40px">
			<div class="col-md-offset-9 col-md-3">
				<a class="btn btn-info" href="{% url 'activity.views.new_or_update_activity' step='recruit'%}">上一步</a>
				<button class="btn btn-info">完成</button>
			</div>
		</div>
		{% endifequal %}
	</form>
</div>
{% endblock %}